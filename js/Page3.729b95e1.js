(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Page3"],{3192:function(t,o,e){},4192:function(t,o,e){var i=e("b1a6"),n=e("74e4"),a=e("604e"),s=e("762c"),u=e("839a"),c=e("d9bc"),r=e("86ee"),l=e("05b6"),d=e("d50d"),h=e("3ba1"),f=e("6720"),v=e("7bea"),m=n("JSON","stringify"),w=u(/./.exec),g=u("".charAt),p=u("".charCodeAt),b=u("".replace),_=u(1..toString),y=/[\uD800-\uDFFF]/g,j=/^[\uD800-\uDBFF]$/,M=/^[\uDC00-\uDFFF]$/,k=!v||c((function(){var t=n("Symbol")();return"[null]"!=m([t])||"{}"!=m({a:t})||"{}"!=m(Object(t))})),S=c((function(){return'"\\udf06\\ud834"'!==m("\udf06\ud834")||'"\\udead"'!==m("\udead")})),C=function(t,o){var e=f(arguments),i=o;if((d(o)||void 0!==t)&&!h(t))return r(o)||(o=function(t,o){if(l(i)&&(o=s(i,this,t,o)),!h(o))return o}),e[1]=o,a(m,null,e)},F=function(t,o,e){var i=g(e,o-1),n=g(e,o+1);return w(j,t)&&!w(M,n)||w(M,t)&&!w(j,i)?"\\u"+_(p(t,0),16):t};m&&i({target:"JSON",stat:!0,arity:3,forced:k||S},{stringify:function(t,o,e){var i=f(arguments),n=a(k?C:m,null,i);return S&&"string"==typeof n?b(n,y,F):n}})},5977:function(t,o,e){"use strict";e("3192")},"8e3a":function(t,o,e){"use strict";e.r(o);var i=function(){var t=this,o=t._self._c;return o("div",[o("HelloWorld",{attrs:{msg:"location处理"}}),o("div",{staticClass:"content"},[o("p",[t._v("当用户访问location来获取当前的url时，wujie统一拦截并回填子应用正确的地址")]),o("h3",[t._v("1、获取 location.host 的值")]),o("blockquote",[o("div",[t._v(t._s(t.host))])]),o("h3",[t._v("2、获取 window.location.host 的值")]),o("blockquote",[o("div",[t._v(t._s(t.windowHost))])]),o("h3",[t._v("3、修改window.location.href")]),o("el-button",{attrs:{type:"warning"},on:{click:t.handleClick}},[t._v("跳转无极")]),o("p",[t._v("子应用修改location.href，会将当前的子应用的shadow删除并且替换成一个iframe")]),t._m(0)],1)],1)},n=[function(){var t=this,o=t._self._c;return o("blockquote",[o("div",[t._v("如果子应用配置路由同步，浏览器可通过回退回到子应用")])])}],a=e("fdab"),s=location.host,u=window.location.host,c={name:"About",components:{HelloWorld:a["a"]},data:function(){return{host:s,windowHost:u}},mounted:function(){console.log("vue2 location mounted")},methods:{handleClick:function(){var t;null!==(t=window.__WUJIE)&&void 0!==t&&t.degrade||!window.Proxy||!window.CustomElementRegistry?window.$wujie.location.href="https://v2.vuejs.org/":window.location.href="https://wujicode.cn/xy/app/prod/official/index"}}},r=c,l=(e("5977"),e("a1cb")),d=Object(l["a"])(r,i,n,!1,null,"75c459ca",null);o["default"]=d.exports},"91e4":function(t,o,e){},9209:function(t,o,e){"use strict";e.r(o);var i=function(){var t=this,o=t._self._c;return o("div",[o("div",{staticClass:"title"},[t._v("vue2-子应用")]),o("div",{staticClass:"main-content"},[o("div",{staticStyle:{"padding-bottom":"10px"}},[t._v("接收的消息："+t._s(t.message))]),o("el-button",{on:{click:t.postMessageToMain}},[t._v("发消息给主应用")]),o("el-button",{on:{click:t.postMessageToIframe}},[t._v("发消息给iframe")])],1),o("div",[o("iframe",{attrs:{width:"100%",height:"100%",src:t.url}})])])},n=[],a=(e("4192"),{"//localhost:7100/":"//wujie-micro.github.io/demo-react17/","//localhost:7200/":"//wujie-micro.github.io/demo-vue2/","//localhost:7300/":"//wujie-micro.github.io/demo-vue3/","//localhost:7400/":"//wujie-micro.github.io/demo-angular12/","//localhost:7500/":"//wujie-micro.github.io/demo-vite/","//localhost:7600/":"//wujie-micro.github.io/demo-react16/","//localhost:7700/":"//wujie-micro.github.io/demo-main-react/","//localhost:8000/":"//wujie-micro.github.io/demo-main-vue/"});function s(t){return a[t]}var u={data:function(){return{message:"",url:s("//localhost:7300/")+"postmessage"}},methods:{handleMessage:function(t){try{var o=JSON.parse(t.data);"vue2"===o.type&&(this.message=o.message)}catch(e){return}},postMessageToMain:function(){var t=window.parent,o={type:"main",message:"hello, i'm sub app"};t.postMessage(JSON.stringify(o),"*")},postMessageToIframe:function(){var t=document.querySelector("iframe").contentWindow,o={type:"vue3",message:"hello, i'm sub app"};t.postMessage(JSON.stringify(o),"*")}},mounted:function(){window.addEventListener("message",this.handleMessage)},onMounted:function(){window.removeEventListener("message",this.handleMessage)}},c=u,r=(e("9a03"),e("a1cb")),l=Object(r["a"])(c,i,n,!1,null,"fcc3e614",null);o["default"]=l.exports},"9a03":function(t,o,e){"use strict";e("91e4")}}]);
//# sourceMappingURL=Page3.729b95e1.js.map